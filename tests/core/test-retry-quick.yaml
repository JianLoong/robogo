testcase: "Quick Retry Demo"
description: "Quick demonstration of enhanced retry functionality"

steps:
  - name: "Fixed delay retry demo"
    action: http
    args: ["https://httpbin.org/status/500"]
    retry:
      attempts: 3
      delay: 1s
      conditions: ["5xx"]
    result: "demo_result"
    continue_on_failure: true

  - name: "Validate retry result"
    action: assert
    args: ["${demo_result.status_code}", "==", "500", "Should be 500"]

  - name: "Successful request demo"
    action: http
    args: ["https://httpbin.org/status/200"]
    retry:
      attempts: 3
      delay: 1s
      conditions: ["5xx"]
    result: "success_demo"

  - name: "Validate success result"
    action: assert
    args: ["${success_demo.status_code}", "==", "200", "Should be 200"]