testcase: improved_errors_test
description: Test improved error message formatting

steps:
  - name: Test assertion failure with default message
    action: assert
    args: ["1", "==", "2"]
    expect_error: "Assertion failed: 1 == 2"

  - name: Test assertion failure with custom message
    action: assert
    args: ["1", "==", "2", "Values should be equal"]
    expect_error: "Assertion failed: 1 == 2 (Values should be equal)"

  - name: Test string assertion failure
    action: assert
    args: ["hello", "==", "world"]
    expect_error: "Assertion failed: 'hello' == 'world'"

  - name: Test contains assertion failure
    action: assert
    args: ["hello world", "contains", "goodbye"]
    expect_error: "Assertion failed: 'hello world' contains 'goodbye'"

  - name: Test numeric comparison failure
    action: assert
    args: ["5", ">", "10"]
    expect_error: "Assertion failed: 5 > 10"

  - name: Test successful action with expect_error (should fail)
    action: log
    args: ["This should succeed"]
    expect_error: "any"
    continue_on_failure: true

  - name: Test HTTP error with expect_error
    action: http
    args: ["GET", "http://invalid-url-that-will-fail.com"]
    expect_error: "no such host"

  - name: Final success message
    action: log
    args: ["All error message tests completed!"] 