testcase: "Simple Retry Test"
description: "Test actual retry behavior with HTTP status codes"

steps:
  - name: "Test retry on 500 status"
    action: http_get
    args: ["https://httpbin.org/status/500"]
    retry:
      attempts: 3
      delay: 1s
      conditions: ["5xx"]
    result: "retry_test_result"
    continue_on_failure: true

  - name: "Check final status code"
    action: assert
    args: ["${retry_test_result.status_code}", "==", "500", "Should still be 500 after retries"]