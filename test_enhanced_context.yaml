testcase: "TC-HTTP-ENHANCED-001"
description: "Test enhanced HTTP error context and suggestions"

variables:
  vars:
    invalid_url: "http://nonexistent-domain-12345.com"
    timeout_url: "http://httpbin.org/delay/10"
    ssl_url: "https://expired.badssl.com"

steps:
  - name: "Test DNS resolution error with enhanced context"
    action: http
    args: ["GET", "${invalid_url}"]
    options:
      timeout: "5s"
      headers:
        User-Agent: "Robogo-Test"
        Accept: "application/json"
    result: "dns_error"

  - name: "Test timeout error with enhanced context"
    action: http
    args: ["GET", "${timeout_url}"]
    options:
      timeout: "2s"
      headers:
        Authorization: "Bearer test-token"
    result: "timeout_error"

  - name: "Test missing URL argument"
    action: http
    args: ["POST"]
    result: "missing_url_error"