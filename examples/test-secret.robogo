# Test Secret Loading
# This test verifies that a secret is loaded from secret.txt and can be used in steps

testcase: "Secret Loader Test"
description: "Verifies that the secret loader reads secret.txt and exposes the value as a variable."

variables:
  secrets:
    test_secret:
      file: "secret.txt"
      mask_output: false

steps:

  - name: "Log CWD value"
    action: log
    args: ["Current working directory: ${cwd}"]
  - name: "Log secret value"
    action: log
    args: ["Loaded secret: ${test_secret}"]

  - name: "Assert secret is not empty"
    action: assert
    args: ["${test_secret}", "not_empty", ""] 