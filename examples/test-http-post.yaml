testcase: "TC-HTTP-POST-VERIFY"
description: "HTTP POST test with data verification"

variables:
  vars:
    base_url: "https://httpbin.org/post"
    test_data: "MyTestData"

steps:
  - name: "Make HTTP POST request"
    action: http
    args: ["POST", "${base_url}", "${test_data}"]
    result: "response"

  - name: "Verify status code"
    action: assert
    args: ["${response.data}", "==", "200", "Should return 200 OK"]

  # - name: "Verify posted data in response"
  #   action: assert
  #   args: ["${response.json.data}", "==", "${test_data}", "Posted data should match"]

  # - name: "Verify URL in response"
  #   action: assert
  #   args: ["${response.json.url}", "==", "${base_url}", "URL should match"]

  # - name: "Check that origin field exists"
  #   action: assert
  #   args: ["${response.json.origin}", "!=", "", "Origin should not be empty"]

  # - name: "Log verification success"
  #   action: log
  #   args: ["Data verification successful! Posted:", "${response.json.data}"]